{"ast":null,"code":"var _jsxFileName = \"/home/jacob/Documents/paycom-planner-frontend/src/components/EventContexts.jsx\";\nimport React, { useState, createContext } from \"react\";\nimport axios from \"axios\";\nexport const EventContexts = createContext();\nexport const EventsProvider = props => {\n  const [isNewEventPopUpOpen, setIsNewEventPopUpOpen] = useState(false);\n  const [isEventPopUpOpen, setIsEventPopUpOpen] = useState(false);\n  const [eventsData, setEventsData] = useState([]);\n  const [eventId, setEventId] = useState(-1);\n  const [currentDate, setCurrentDate] = useState(new Date());\n  const [year, setYear] = useState(currentDate.getFullYear());\n  const [month, setMonth] = useState(currentDate.getMonth()); // month is zero indexed\n\n  const [day, setDay] = useState(currentDate.getDay());\n  const [eventDate, setEventDate] = useState(new Date(year, month, day));\n  const [eventEdit, setEventEdit] = useState({\n    name: \"\",\n    desc: \"\",\n    date: \"\"\n  });\n\n  function handleNewEventData({\n    name,\n    date,\n    desc\n  }) {\n    setEventsData([...eventsData, {\n      name,\n      date,\n      desc\n    }]);\n    date = date.getTime();\n    axios.post(`/events.php`, {\n      name,\n      date,\n      desc\n    }).then(res => {\n      if (res.data === \"success\") {\n        setIsNewEventPopUpOpen(!isNewEventPopUpOpen);\n        console.log(res.data);\n      } else {\n        console.log(res.data);\n      }\n    });\n  }\n\n  function openNewEventPopUp(dayNum, event = {\n    name: \"\",\n    desc: \"\",\n    date: \"\"\n  }) {\n    setDay(dayNum);\n    setEventEdit(event);\n    setEventDate(new Date(year, month, dayNum));\n    setIsNewEventPopUpOpen(true);\n  }\n\n  function openEventView(index) {\n    setEventId(index);\n    setIsEventPopUpOpen(true);\n  }\n\n  function deleteEvent(index) {\n    setIsEventPopUpOpen(false);\n    let array = [...eventsData];\n    array.splice(index, 1);\n    setEventsData(array);\n  }\n\n  function editEvent(index) {\n    let event = eventsData[index];\n    let dayNum = event.date.getDate();\n    deleteEvent(index);\n    openNewEventPopUp(dayNum, event);\n  }\n\n  return /*#__PURE__*/React.createElement(EventContexts.Provider, {\n    value: {\n      isNewEventPopUpOpen,\n      setIsNewEventPopUpOpen,\n      eventDate,\n      eventsData,\n      openEventView,\n      openNewEventPopUp,\n      handleNewEventData,\n      eventId,\n      isEventPopUpOpen,\n      setIsEventPopUpOpen,\n      deleteEvent,\n      year,\n      month,\n      day,\n      setYear,\n      setMonth,\n      setDay,\n      setCurrentDate,\n      editEvent,\n      eventEdit\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, props.children);\n};","map":{"version":3,"sources":["/home/jacob/Documents/paycom-planner-frontend/src/components/EventContexts.jsx"],"names":["React","useState","createContext","axios","EventContexts","EventsProvider","props","isNewEventPopUpOpen","setIsNewEventPopUpOpen","isEventPopUpOpen","setIsEventPopUpOpen","eventsData","setEventsData","eventId","setEventId","currentDate","setCurrentDate","Date","year","setYear","getFullYear","month","setMonth","getMonth","day","setDay","getDay","eventDate","setEventDate","eventEdit","setEventEdit","name","desc","date","handleNewEventData","getTime","post","then","res","data","console","log","openNewEventPopUp","dayNum","event","openEventView","index","deleteEvent","array","splice","editEvent","getDate","children"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,aAA1B,QAA+C,OAA/C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,aAAa,GAAGF,aAAa,EAAnC;AAEP,OAAO,MAAMG,cAAc,GAAIC,KAAD,IAAW;AACvC,QAAM,CAACC,mBAAD,EAAsBC,sBAAtB,IAAgDP,QAAQ,CAAC,KAAD,CAA9D;AACA,QAAM,CAACQ,gBAAD,EAAmBC,mBAAnB,IAA0CT,QAAQ,CAAC,KAAD,CAAxD;AACA,QAAM,CAACU,UAAD,EAAaC,aAAb,IAA8BX,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACY,OAAD,EAAUC,UAAV,IAAwBb,QAAQ,CAAC,CAAC,CAAF,CAAtC;AACA,QAAM,CAACc,WAAD,EAAcC,cAAd,IAAgCf,QAAQ,CAAC,IAAIgB,IAAJ,EAAD,CAA9C;AACA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBlB,QAAQ,CAACc,WAAW,CAACK,WAAZ,EAAD,CAAhC;AACA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBrB,QAAQ,CAACc,WAAW,CAACQ,QAAZ,EAAD,CAAlC,CAPuC,CAOqB;;AAC5D,QAAM,CAACC,GAAD,EAAMC,MAAN,IAAgBxB,QAAQ,CAACc,WAAW,CAACW,MAAZ,EAAD,CAA9B;AACA,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4B3B,QAAQ,CAAC,IAAIgB,IAAJ,CAASC,IAAT,EAAeG,KAAf,EAAsBG,GAAtB,CAAD,CAA1C;AACA,QAAM,CAACK,SAAD,EAAYC,YAAZ,IAA4B7B,QAAQ,CAAC;AAAE8B,IAAAA,IAAI,EAAE,EAAR;AAAYC,IAAAA,IAAI,EAAE,EAAlB;AAAsBC,IAAAA,IAAI,EAAE;AAA5B,GAAD,CAA1C;;AAEA,WAASC,kBAAT,CAA4B;AAACH,IAAAA,IAAD;AAAOE,IAAAA,IAAP;AAAaD,IAAAA;AAAb,GAA5B,EAAgD;AAC9CpB,IAAAA,aAAa,CAAC,CAAC,GAAGD,UAAJ,EAAgB;AAACoB,MAAAA,IAAD;AAAOE,MAAAA,IAAP;AAAaD,MAAAA;AAAb,KAAhB,CAAD,CAAb;AACAC,IAAAA,IAAI,GAAGA,IAAI,CAACE,OAAL,EAAP;AACAhC,IAAAA,KAAK,CAACiC,IAAN,CAAY,aAAZ,EAA0B;AAACL,MAAAA,IAAD;AAAOE,MAAAA,IAAP;AAAaD,MAAAA;AAAb,KAA1B,EACGK,IADH,CACQC,GAAG,IAAI;AACX,UAAGA,GAAG,CAACC,IAAJ,KAAa,SAAhB,EAA0B;AACxB/B,QAAAA,sBAAsB,CAAC,CAACD,mBAAF,CAAtB;AACAiC,QAAAA,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACC,IAAhB;AACD,OAHD,MAGK;AACHC,QAAAA,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACC,IAAhB;AACD;AACF,KARH;AASD;;AAED,WAASG,iBAAT,CAA2BC,MAA3B,EAAmCC,KAAK,GAAG;AAAEb,IAAAA,IAAI,EAAE,EAAR;AAAYC,IAAAA,IAAI,EAAE,EAAlB;AAAsBC,IAAAA,IAAI,EAAE;AAA5B,GAA3C,EAA6E;AAC3ER,IAAAA,MAAM,CAACkB,MAAD,CAAN;AACAb,IAAAA,YAAY,CAACc,KAAD,CAAZ;AACAhB,IAAAA,YAAY,CAAC,IAAIX,IAAJ,CAASC,IAAT,EAAeG,KAAf,EAAsBsB,MAAtB,CAAD,CAAZ;AACAnC,IAAAA,sBAAsB,CAAC,IAAD,CAAtB;AACD;;AAED,WAASqC,aAAT,CAAuBC,KAAvB,EAA8B;AAC5BhC,IAAAA,UAAU,CAACgC,KAAD,CAAV;AACApC,IAAAA,mBAAmB,CAAC,IAAD,CAAnB;AACD;;AAED,WAASqC,WAAT,CAAqBD,KAArB,EAA4B;AAC1BpC,IAAAA,mBAAmB,CAAC,KAAD,CAAnB;AACA,QAAIsC,KAAK,GAAG,CAAC,GAAGrC,UAAJ,CAAZ;AACAqC,IAAAA,KAAK,CAACC,MAAN,CAAaH,KAAb,EAAoB,CAApB;AACAlC,IAAAA,aAAa,CAACoC,KAAD,CAAb;AACD;;AAED,WAASE,SAAT,CAAmBJ,KAAnB,EAA0B;AACxB,QAAIF,KAAK,GAAGjC,UAAU,CAACmC,KAAD,CAAtB;AACA,QAAIH,MAAM,GAAGC,KAAK,CAACX,IAAN,CAAWkB,OAAX,EAAb;AACAJ,IAAAA,WAAW,CAACD,KAAD,CAAX;AACAJ,IAAAA,iBAAiB,CAACC,MAAD,EAASC,KAAT,CAAjB;AACD;;AAED,sBACE,oBAAC,aAAD,CAAe,QAAf;AACE,IAAA,KAAK,EAAE;AACLrC,MAAAA,mBADK;AAELC,MAAAA,sBAFK;AAGLmB,MAAAA,SAHK;AAILhB,MAAAA,UAJK;AAKLkC,MAAAA,aALK;AAMLH,MAAAA,iBANK;AAOLR,MAAAA,kBAPK;AAQLrB,MAAAA,OARK;AASLJ,MAAAA,gBATK;AAULC,MAAAA,mBAVK;AAWLqC,MAAAA,WAXK;AAYL7B,MAAAA,IAZK;AAaLG,MAAAA,KAbK;AAcLG,MAAAA,GAdK;AAeLL,MAAAA,OAfK;AAgBLG,MAAAA,QAhBK;AAiBLG,MAAAA,MAjBK;AAkBLT,MAAAA,cAlBK;AAmBLkC,MAAAA,SAnBK;AAoBLrB,MAAAA;AApBK,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAwBGvB,KAAK,CAAC8C,QAxBT,CADF;AA4BD,CAhFM","sourcesContent":["import React, { useState, createContext } from \"react\";\nimport axios from \"axios\";\n\nexport const EventContexts = createContext();\n\nexport const EventsProvider = (props) => {\n  const [isNewEventPopUpOpen, setIsNewEventPopUpOpen] = useState(false);\n  const [isEventPopUpOpen, setIsEventPopUpOpen] = useState(false);\n  const [eventsData, setEventsData] = useState([]);\n  const [eventId, setEventId] = useState(-1);\n  const [currentDate, setCurrentDate] = useState(new Date());\n  const [year, setYear] = useState(currentDate.getFullYear());\n  const [month, setMonth] = useState(currentDate.getMonth()); // month is zero indexed\n  const [day, setDay] = useState(currentDate.getDay());\n  const [eventDate, setEventDate] = useState(new Date(year, month, day));\n  const [eventEdit, setEventEdit] = useState({ name: \"\", desc: \"\", date: \"\" });\n\n  function handleNewEventData({name, date, desc}) {\n    setEventsData([...eventsData, {name, date, desc}]);\n    date = date.getTime();\n    axios.post(`/events.php`, {name, date, desc})\n      .then(res => {\n        if(res.data === \"success\"){\n          setIsNewEventPopUpOpen(!isNewEventPopUpOpen);\n          console.log(res.data);\n        }else{\n          console.log(res.data);\n        }\n      });\n  }\n\n  function openNewEventPopUp(dayNum, event = { name: \"\", desc: \"\", date: \"\" }) {\n    setDay(dayNum);\n    setEventEdit(event);\n    setEventDate(new Date(year, month, dayNum));\n    setIsNewEventPopUpOpen(true);\n  }\n\n  function openEventView(index) {\n    setEventId(index);\n    setIsEventPopUpOpen(true);\n  }\n\n  function deleteEvent(index) {\n    setIsEventPopUpOpen(false);\n    let array = [...eventsData];\n    array.splice(index, 1);\n    setEventsData(array);\n  }\n\n  function editEvent(index) {\n    let event = eventsData[index];\n    let dayNum = event.date.getDate();\n    deleteEvent(index);\n    openNewEventPopUp(dayNum, event);\n  }\n\n  return (\n    <EventContexts.Provider\n      value={{\n        isNewEventPopUpOpen,\n        setIsNewEventPopUpOpen,\n        eventDate,\n        eventsData,\n        openEventView,\n        openNewEventPopUp,\n        handleNewEventData,\n        eventId,\n        isEventPopUpOpen,\n        setIsEventPopUpOpen,\n        deleteEvent,\n        year,\n        month,\n        day,\n        setYear,\n        setMonth,\n        setDay,\n        setCurrentDate,\n        editEvent,\n        eventEdit,\n      }}\n    >\n      {props.children}\n    </EventContexts.Provider>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}